<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bridge Scene</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Font Awesome for speaker icon -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <style>
      body,
      html {
        height: 100%;
        margin: 0;
        font-family: "Inter", sans-serif;
        background: url("images/s2.jpeg") no-repeat center center fixed;
        background-size: cover;
      }

      #gameContainer {
        position: relative;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
      }

      .character {
        position: absolute;
        height: auto;
        transition: transform 2s;
      }

      #mainCharacter {
        width: 500px;
        height: 200px;
        left: -150px;
      }

      #poorCharacter {
        width: 400px;
        height: 160px;
        left: -150px;
        top: 240px;
      }

      #richCharacter {
        width: 300px;
        height: 240px;
        left: 100%;
        top: 175px;
      }

      .text-box {
        position: absolute;
        bottom: 80px;
        width: 100%;
        text-align: center;
        font-size: 24px;
        color: white;
        display: none;
        padding-right: 40px;
        padding-left: 40px;
        background-color: rgba(0, 0, 0, 0.5);
        border-radius: 10px;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.3);
      }

      .speaker-icon {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        color: white;
      }

      .btn-custom {
        background-color: #28a745;
        color: white;
        border: none;
        padding: 10px 20px;
        font-size: 18px;
        cursor: pointer;
        border-radius: 5px;
        position: absolute;
      }

      #continueButton {
        bottom: 20px;
        right: 20px;
        display: none;
      }

      #nextButton {
        bottom: 80px;
        right: 20px;
        display: none;
      }

      .btn-custom:hover {
        background-color: #218838;
      }

      #soundIcon {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 40px;
        height: 40px;
        cursor: pointer;
        z-index: 1000;
      }
    </style>
  </head>
  <body>
    <div id="gameContainer">
      <img
        id="mainCharacter"
        class="character"
        src="images/JJ.png"
        alt="Main Character"
      />
      <img
        id="poorCharacter"
        class="character"
        src="images/[removal.ai]_fbedd0d8-7412-493a-b9b9-b32d1e9c7ec6-poor.png"
        alt="Poor Character"
      />
      <img
        id="richCharacter"
        class="character"
        src="images/[removal.ai]_79e46ef2-3da0-4961-b0ee-2e69f3facca1-rich.png"
        alt="Rich Character"
      />

      <div class="text-box" id="textBox">
        <span id="textContent"></span>
        <i
          id="speaker-icon"
          class="fas fa-volume-up speaker-icon"
          onclick="toggleAudio()"
        ></i>
      </div>

      <button id="continueButton" class="btn-custom" onclick="showNextText()">
        Continue
      </button>
      <button id="nextButton" class="btn-custom" onclick="goToNextGame()">
        Next
      </button>
      <img
        id="soundIcon"
        src="sound_icon.png"
        alt="Sound Icon"
        onclick="toggleSound()"
      />
    </div>

    <script>
      let isSoundPlaying = false;
      const audio = new Audio("background_music.mp3");

      function animateCharacters() {
        document.getElementById("mainCharacter").style.transform =
          "translateX(600px)";
        document.getElementById("poorCharacter").style.transform =
          "translateX(280px)";
        document.getElementById("richCharacter").style.transform =
          "translateX(-600px)";
        setTimeout(() => {
          document.getElementById("textBox").style.display = "block";
          document.getElementById("continueButton").style.display = "block";
          document.getElementById("textContent").innerText =
            "You are not allowed to use this bridge";
        }, 2000);
      }

      function showNextText() {
        const textBox = document.getElementById("textBox");
        const textContent = document.getElementById("textContent");
        textContent.innerText =
          "Find a way to solve the discrimination between them";
        setTimeout(() => {
          document.getElementById("continueButton").style.display = "none";
          document.getElementById("nextButton").style.display = "block";
        }, 3000);
      }

      function toggleSound() {
        if (isSoundPlaying) {
          audio.pause();
          document.getElementById("soundIcon").src = "sound_icon.png"; // Change to muted icon
        } else {
          audio.play();
          document.getElementById("soundIcon").src = "sound_icon_muted.png"; // Change to unmuted icon
        }
        isSoundPlaying = !isSoundPlaying;
      }

      function toggleAudio() {
        // Placeholder function for audio toggle if needed
      }

      function goToNextGame() {
        window.location.href = "game2.html";
      }

      window.onload = () => {
        animateCharacters();
        document
          .getElementById("continueButton")
          .addEventListener("click", showNextText);
      };
    </script>
  </body>
</html>
